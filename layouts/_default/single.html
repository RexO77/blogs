{{ define "main" }}
<article class="post" itemscope itemtype="https://schema.org/BlogPosting">
    <header class="post__header">
        <h1 class="post__title" itemprop="headline">{{ .Title }}</h1>
        <div class="post__meta">
            <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}" itemprop="datePublished" class="post__date">
                {{ .Date.Format "Jan 2, 2006" }}
            </time>
            <span class="post__meta-separator" aria-hidden="true">•</span>
            <span class="post__reading-time">{{ .ReadingTime }} min read</span>
            {{- if .Params.categories }}
            <span class="post__meta-separator" aria-hidden="true">•</span>
            <div class="post__categories">
                {{- range $index, $category := .Params.categories }}
                    {{- if $index }}, {{ end }}
                    <a href="{{ "/categories/" | relURL }}{{ $category | urlize }}" class="post__category-link">{{ $category }}</a>
                {{- end }}
            </div>
            {{- end }}
        </div>
        {{- if .Description }}
        <div class="post__description" itemprop="description">
            {{ .Description }}
        </div>
        {{- end }}
    </header>
    
    <div class="post__content" itemprop="articleBody">
        {{ .Content }}
    </div>
    
    <!-- Author bio -->
    {{ partial "author-bio.html" . }}
    
    <!-- Tags -->
    {{- if .Params.tags }}
    <footer class="post__footer">
        <section class="post__tags">
            <h3 class="post__tags-title">Tagged with:</h3>
            <div class="post__tags-list">
                {{- range .Params.tags }}
                <a href="{{ "/tags/" | relURL }}{{ . | urlize }}" class="tag" aria-label="View posts tagged with {{ . }}">
                    #{{ . }}
                </a>
                {{- end }}
            </div>
        </section>
        
        <!-- Social sharing -->
        <section class="social-sharing">
            <h3 class="social-sharing__title">Share this post:</h3>
            <div class="social-sharing__buttons">
                <a href="https://twitter.com/intent/tweet?url={{ .Permalink }}&text={{ .Title }}&via={{ .Site.Params.twitter | strings.TrimPrefix "@" }}" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   class="social-btn social-btn--twitter"
                   aria-label="Share on Twitter (opens in new tab)">
                    Share on Twitter
                </a>
                <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ .Permalink }}" 
                   target="_blank" 
                   rel="noopener noreferrer"
                   class="social-btn social-btn--linkedin"
                   aria-label="Share on LinkedIn (opens in new tab)">
                    Share on LinkedIn
                </a>
            </div>
        </section>
        
        <!-- Navigation to other posts -->
        <nav class="post-nav" aria-label="Post navigation">
            <div class="post-nav__container">
                {{- if .PrevInSection }}
                <div class="post-nav__item">
                    <p class="post-nav__label">Previous Post</p>
                    <a href="{{ .PrevInSection.RelPermalink }}" class="post-nav__link" rel="prev">
                        {{ .PrevInSection.Title }}
                    </a>
                </div>
                {{- end }}
                {{- if .NextInSection }}
                <div class="post-nav__item post-nav__item--next">
                    <p class="post-nav__label">Next Post</p>
                    <a href="{{ .NextInSection.RelPermalink }}" class="post-nav__link" rel="next">
                        {{ .NextInSection.Title }}
                    </a>
                </div>
                {{- end }}
            </div>
        </nav>
    </footer>
    {{- end }}
</article>
{{ end }}
