(function(){"use strict";const f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame;function p(e,t){let n;return function(...s){const o=()=>{clearTimeout(n),e(...s)};clearTimeout(n),n=setTimeout(o,t)}}function e(e,t){let n;return function(){const s=arguments,o=this;n||(e.apply(o,s),n=!0,setTimeout(()=>n=!1,t))}}const l={root:null,rootMargin:"0px",threshold:.1};function o(){const e=["/fonts/Satoshi-Regular.otf","/fonts/Unbounded-VariableFont_wght.ttf"];e.forEach(e=>{const t=document.createElement("link");t.rel="preload",t.as=e.endsWith(".css")?"style":"font",t.href=e,t.crossOrigin="anonymous",document.head.appendChild(t)})}function i(){"fonts"in document&&Promise.all([document.fonts.load("400 1em Satoshi"),document.fonts.load("700 1em Unbounded")]).then(()=>{document.documentElement.classList.add("fonts-loaded")}).catch(()=>{document.documentElement.classList.add("fonts-loaded")})}function a(){const e=document.querySelectorAll('a[href^="#"]');e.forEach(e=>{e.addEventListener("click",function(e){const t=this.getAttribute("href");if(t.length>1){e.preventDefault();const n=document.querySelector(t);n&&n.scrollIntoView({behavior:"smooth",block:"start"})}})})}function r(){const e=document.querySelectorAll(".hero-headline, .post-item");e.forEach(e=>{e.classList.add("loading")});const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.remove("loading"),e.target.classList.add("loaded"),t.unobserve(e.target))})},l);e.forEach(e=>{t.observe(e)})}function n(){const e=document.querySelectorAll("img");e.forEach(e=>{e.getBoundingClientRect().top>window.innerHeight&&(e.loading="lazy"),e.addEventListener("error",function(){this.style.display="none"})})}function s(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})})}function d(){const t=document.documentElement;let e=localStorage.getItem("theme")||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light");function n(){const n=document.getElementById("theme-toggle");n&&n.addEventListener("click",function(){e=e==="dark"?"light":"dark",t.setAttribute("data-theme",e),localStorage.setItem("theme",e),t.offsetHeight})}window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",function(n){localStorage.getItem("theme")||(e=n.matches?"dark":"light",t.setAttribute("data-theme",e),t.offsetHeight)}),n(),document.readyState==="loading"&&document.addEventListener("DOMContentLoaded",n)}function u(){const e=document.querySelector('script[src*="vercel.com/analytics"]');e&&e.setAttribute("data-defer","true")}function h(){window.addEventListener("beforeunload",()=>{})}function m(){const t=document.querySelector(".site-header");t&&window.addEventListener("scroll",e(()=>{window.scrollY>50?t.classList.add("scrolled"):t.classList.remove("scrolled")},10))}function c(){const n=document.querySelector(".post-content .content");if(!n)return;const t=document.createElement("div");t.className="reading-progress",t.innerHTML='<div class="reading-progress-fill"></div>',document.body.appendChild(t);const o=t.querySelector(".reading-progress-fill");function s(){const e=n.offsetTop,t=n.offsetHeight,s=window.innerHeight,i=window.pageYOffset,a=e+t-s,r=Math.min(Math.max((i-e)/(a-e),0),1);o.style.width=`${r*100}%`}window.addEventListener("scroll",e(s,10)),s()}function t(){o(),i(),a(),r(),m(),c(),n(),s(),u(),h(),window.addEventListener("load",()=>{document.documentElement.classList.add("page-loaded")})}d(),document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t()})()